<div id="statistics" class="static-page-distributed-instance">

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal logiska enheter</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedAIP" data-source-only-active="true" data-view="text" data-source-filters="instanceId=INSTANCEID" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_8 chart_col_card">
            <h6>Distribution av beskrivningsnivåer (topp 10)</h6>
            <canvas id="stat-desc-levels" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedAIP" data-source-facets="level" data-view="chart" data-view-field="facetResults" data-view-type="pie" data-source-filters="instanceId=INSTANCEID" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="stat-desc-levels" data-view="download" data-view-filename="description-levels.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <h5>Data</h5>


    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal representationer</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedRepresentation" data-source-filters="instanceId=INSTANCEID" data-view="text" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_8 chart_col_card">
            <h6>Distribution av representationstyper</h6>
            <canvas id="representation-types" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedRepresentation" data-source-filters="instanceId=INSTANCEID" data-source-facets="type" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar"></canvas><span class="statistic toolbarLink" data-ref="representation-types" data-view="download" data-view-filename="representation-types.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal filer</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-filters="instanceId=INSTANCEID" data-view="text" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_8 chart_col_card">
            <h6>Distribution av PRONOM-filer (topp 10)</h6>
            <canvas id="file-formats-pronom" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-filters="instanceId=INSTANCEID" data-source-facets="formatPronom" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="file-formats-pronom" data-view="download" data-view-filename="file-formats-pronom.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>
    <div class="row full_width">
        <div class="col_12 chart_col_card">
            <h6>Distribution av filformat (topp 10)</h6>
            <canvas id="file-formats-description" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-filters="instanceId=INSTANCEID" data-source-facets="fileFormat" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="file-formats-description" data-view="download" data-view-filename="file-formats-description.csv"> <i class="fa fa-download" aria-hidden="true"></i></span>
        </div>
    </div>
    <div class="row full_width">
        <div class="col_12 chart_col_card">
            <h6>Distribution av mimetypsfiler (topp 10)</h6>
            <canvas id="file-formats-mimetypes" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-filters="instanceId=INSTANCEID" data-source-facets="formatMimetype" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="file-formats-mimetypes" data-view="download" data-view-filename="file-formats-mimetypes.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>


    <h5>Processer</h5>

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal åtgärdsprocesser</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-view="text" data-source-filters="!pluginType=INGEST AND instanceId=INSTANCEID" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_4 chart_col_card">
            <h6>Distrubution av status för åtgärdsprocesser</h6>
            <canvas id="process-action-status" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-source-facets="state" data-view="chart" data-source-filters="!pluginType=INGEST AND instanceId=INSTANCEID" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-action-status" data-view="download" data-view-filename="process-action-status.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
        <div class="col_4 chart_col_card">
            <h6>Distribution av åtgärdsprocesstyper</h6>
            <canvas id="process-action-type" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-source-facets="pluginType" data-view="chart" data-source-filters="!pluginType=INGEST AND instanceId=INSTANCEID" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-action-type" data-view="download" data-view-filename="process-action-type.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal inleveransprocesser</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-view="text" data-source-filters="pluginType=INGEST AND instanceId=INSTANCEID" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_4 chart_col_card">
            <h6>Distribution av processtatus</h6>
            <canvas id="process-ingest-status" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-source-facets="state" data-view="chart" data-source-filters="pluginType=INGEST AND instanceId=INSTANCEID" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-ingest-status" data-view="download" data-view-filename="process-ingest-status.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
        <div class="col_4 chart_col_card">
            <h6>Antal värderingar (topp 10)</h6>
            <canvas id="appraisal" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=appraisal AND instanceId=INSTANCEID" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="appraisal" data-view="download" data-view-filename="appraisal.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal rapporter</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.IndexedReport" data-source-filters="instanceId=INSTANCEID" data-view="text" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_8 chart_col_card">
            <h6>Distribution av rapportplugin (topp 5)</h6>
            <canvas id="process-reports-plugin" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.IndexedReport" data-source-facets="pluginName" data-view="chart" data-source-filters="!plugin=org.roda.core.plugins.base.ingest.AutoAcceptSIPPlugin AND instanceId=INSTANCEID" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="5"></canvas><span class="statistic toolbarLink" data-ref="process-reports-plugin" data-view="download" data-view-filename="process-reports-plugin.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <div class="row full_width">
        <div class="col_4 chart_col_card">
            <h6>Distribution av rapportpluginstatus</h6>
            <canvas id="process-reports-plugin-state" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.IndexedReport" data-source-filters="instanceId=INSTANCEID" data-source-facets="pluginState" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-reports-plugin-state" data-view="download" data-view-filename="process-reports-plugin-state.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>

        <div class="col_8 chart_col_card">
            <h6>Användare som startade fler processer (topp 5)</h6>
            <canvas id="process-users" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=createJob AND instanceId=INSTANCEID" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="5"></canvas><span class="statistic toolbarLink" data-ref="process-users" data-view="download" data-view-filename="process-users.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <h5>Bevarandehändelser</h5>

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal bevarandehändelser</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.metadata.IndexedPreservationEvent" data-source-filters="instanceId=INSTANCEID" data-view="text" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_8 chart_col_card">
            <h6>Bevarandeaktör per typ (topp 5)</h6>
            <canvas id="preservation-agents-type" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.metadata.IndexedPreservationEvent" data-source-filters="instanceId=INSTANCEID" data-source-facets="eventType" data-view="chart" data-view-field="facetResults" data-view-type="pie" data-view-limit="5"></canvas><span class="statistic toolbarLink" data-ref="preservation-agents-type" data-view="download" data-view-filename="preservation-agents-type.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>

    </div>
    <div class="row full_width">
        <div class="col_12 chart_col_card">
            <h6>Bevarandehändelser per bevarandeaktör (topp 5)</h6>
            <canvas id="preservation-event-agents" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.metadata.IndexedPreservationEvent" data-source-filters="instanceId=INSTANCEID" data-source-facets="linkingAgentIdentifier" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-label-function="agentLabel" data-view-limit="5"></canvas><script type="text/javascript">
                function agentLabel(label) {
                    var agent = JSON.parse(label);
                    var valueArray = agent.value.split('@');
                    var updatedValue = valueArray[0].substring(valueArray[0]
                        .lastIndexOf(".") + 1);
                    updatedValue = updatedValue.substring(updatedValue
                        .lastIndexOf(":") + 1);

                    if (valueArray.length != 1) {
                        updatedValue += "@" + valueArray[1];
                    }

                    return updatedValue;
                }
            </script><span class="statistic toolbarLink" data-ref="preservation-event-agents" data-view="download" data-view-filename="preservation-event-agents.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>

    <h5>Riskincidenser</h5>

    <div class="row full_width">
        <div class="col_4 stat_col_card">
            <h6>Antal riskincidenser</h6>
            <div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.RiskIncidence" data-source-filters="instanceId=INSTANCEID" data-view="text" data-view-field="totalCount"></span></div>
        </div>
        <div class="col_4 chart_col_card">
            <h6>Riskincidenser fördelat på allvarlighetsgrad</h6>
            <canvas id="risk-incidence-severity" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.RiskIncidence" data-source-filters="instanceId=INSTANCEID" data-source-facets="severity" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="risk-incidence-severity" data-view="download" data-view-filename="risk-incidence-severity.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
        <div class="col_4 chart_col_card">
            <h6>Riskincidenser fördelat på status</h6>
            <canvas id="risk-incidence-status" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.RiskIncidence" data-source-filters="instanceId=INSTANCEID" data-source-facets="status" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="risk-incidence-status" data-view="download" data-view-filename="risk-incidence-status.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
        </div>
    </div>
</div>
