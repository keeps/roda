<div id="statistics" class="static-page max-width">
	<h1>Statistika</h1>

	<p>Ova stranica prikazuje nadzornu ploču sa statistikama koja se odnosi na nekoliko 
		aspekata repozitorija. Statistika je organizirana prema odjeljcima, od kojih se 
		svaki fokusira na određeni aspekt repozitorija, npr. 
		pitanja vezana uz metapodatke i podatke, statistiku o procesima unosa i 
		očuvanja, podatke o korisnicima i problemima autentifikacije, 
		procese očuvanja, upravljanje rizikom i obavijesti.</p>

	<div class="collapsable-card-panel" id="panelStatistic">
		<h5 class="collapsable-card-panel-title">Reporting services</h5>
		<button class="collapsable-card-panel-close" id ="closeButton">
			<i class="fas fa-times"></i>
		</button>
		<p class="collapsable-card-panel-body">Customizable dashboards for organizations to support informed
			decision-making and strategic planning. This feature allows for tracking of key performance
			indicators (KPI), risk analysis, and other important data assessment tasks, providing management
			with the information necessary to make informed decisions and drive the success of the preservation process.</p>
		<button type="button" id="reporting-action-button" class="btn collapsable-card-panel-action">Learn More</button>
	</div>

	<h2>Metapodaci</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj intelektualnih entiteta</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedAIP" data-source-only-active="true" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Raspodjela razina opisa (prvih 10)</h4>
			<canvas id="stat-desc-levels" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedAIP" data-source-facets="level" data-view="chart" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="stat-desc-levels" data-view="download" data-view-filename="description-levels.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<div class="row full_width">
		<div class="col_6 chart_col_card">
			<h4>Korisničke radnje premještanja (prvih 10)</h4>
			<canvas id="user-move-actions" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=moveAIPInHierarchy" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="user-move-actions" data-view="download" data-view-filename="user-move-actions.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
		<div class="col_6 chart_col_card">
			<h4>Korisnici koji su kreirali metapodatke (prvih 10)</h4>
			<canvas id="user-desc-creations" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=createDescriptiveMetadataFile" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="user-desc-creations" data-view="download" data-view-filename="user-desc-creations.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<div class="row full_width">
		<div class="col_6 chart_col_card">
			<h4>Korisnici koji su ažurirali metapodatke (prvih 10)</h4>
			<canvas id="user-desc-updates" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=updateDescriptiveMetadataFile" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="user-desc-updates" data-view="download" data-view-filename="user-desc-updates.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
		<div class="col_6 chart_col_card">
			<h4>Korisnici koji su obrisali metapodatke (prvih 10)</h4>
			<canvas id="user-desc-deletes" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=deleteAIPDescriptiveMetadataFile" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="user-desc-deletes" data-view="download" data-view-filename="user-desc-deletes.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<h2>Datum</h2>


	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj prikaza</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedRepresentation" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Distribucija vrsti prikaza</h4>
			<canvas id="representation-types" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedRepresentation" data-source-facets="type" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar"></canvas><span class="statistic toolbarLink" data-ref="representation-types" data-view="download" data-view-filename="representation-types.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj datoteka</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Distribucija datoteke PRONOM (prvih 10)</h4>
			<canvas id="file-formats-pronom" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-facets="formatPronom" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="file-formats-pronom" data-view="download" data-view-filename="file-formats-pronom.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>
	<div class="row full_width">
		<div class="col_12 chart_col_card">
			<h4>Distribucija formata datoteka (prvih 10)</h4>
			<canvas id="file-formats-description" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-facets="fileFormat" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="file-formats-description" data-view="download" data-view-filename="file-formats-description.csv"> <i class="fa fa-download" aria-hidden="true"></i></span>
		</div>
	</div>
	<div class="row full_width">
		<div class="col_12 chart_col_card">
			<h4>Distribucija mimetipova datoteka (prvih 10)</h4>
			<canvas id="file-formats-mimetypes" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.IndexedFile" data-source-facets="formatMimetype" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="file-formats-mimetypes" data-view="download" data-view-filename="file-formats-mimetypes.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>


	<h2>Sigurnost</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj procesa održavanja</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-view="text" data-source-filters="!pluginType=INGEST" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Distribucija statusa procesa održavanja</h4>
			<canvas id="process-action-status" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-source-facets="state" data-view="chart" data-source-filters="!pluginType=INGEST" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-action-status" data-view="download" data-view-filename="process-action-status.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Distribucija vrsti procesa održavanja</h4>
			<canvas id="process-action-type" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-source-facets="pluginType" data-view="chart" data-source-filters="!pluginType=INGEST" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-action-type" data-view="download" data-view-filename="process-action-type.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj procesa unosa</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-view="text" data-source-filters="pluginType=INGEST" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Raspodjela statusa procesa</h4>
			<canvas id="process-ingest-status" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.Job" data-source-facets="state" data-view="chart" data-source-filters="pluginType=INGEST" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-ingest-status" data-view="download" data-view-filename="process-ingest-status.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Broj procjena (najboljih 10)</h4>
			<canvas id="appraisal" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=appraisal" data-view-field="facetResults" data-view-type="pie" data-view-limit="10"></canvas><span class="statistic toolbarLink" data-ref="appraisal" data-view="download" data-view-filename="appraisal.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj izvještaja</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.IndexedReport" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Distribucija dodatka izvještavanja (prvih 5)</h4>
			<canvas id="process-reports-plugin" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.IndexedReport" data-source-facets="pluginName" data-view="chart" data-source-filters="!plugin=org.roda.core.plugins.base.ingest.AutoAcceptSIPPlugin" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="5"></canvas><span class="statistic toolbarLink" data-ref="process-reports-plugin" data-view="download" data-view-filename="process-reports-plugin.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<div class="row full_width">
		<div class="col_4 chart_col_card">
			<h4>Distribucija stanja dodatka izvještavanja</h4>
			<canvas id="process-reports-plugin-state" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.jobs.IndexedReport" data-source-facets="pluginState" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="process-reports-plugin-state" data-view="download" data-view-filename="process-reports-plugin-state.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>

		<div class="col_8 chart_col_card">
			<h4>Korisnici koji su pokrenuli više procesa (prvih 5)</h4>
			<canvas id="process-users" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-facets="username" data-view="chart" data-source-filters="actionMethod=createJob" data-view-field="facetResults" data-view-type="horizontalBar" data-view-limit="5"></canvas><span class="statistic toolbarLink" data-ref="process-users" data-view="download" data-view-filename="process-users.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<h2>Korisnici</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj korisnika</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.user.RODAMember" data-view="text" data-source-filters="isUser=true" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_4 stat_col_card">
			<h4>Broj provjera autentičnosti</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-filters="actionComponent=org.roda.wui.api.controllers.UserLogin, actionMethod=login, state=SUCCESS" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Uspješne nasuprot neuspješnim prijavama</h4>
			<canvas id="logins-state" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.log.LogEntry" data-source-filters="actionComponent=org.roda.wui.api.controllers.UserLogin, actionMethod=login" data-source-facets="state" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="logins-state" data-view="download" data-view-filename="logins-state.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<h2>Preneseni resursi</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj prenesenih resursa</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.TransferredResource" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_4 stat_col_card">
			<h4>Uspješna unošenja</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.TransferredResource" data-view="text" data-view-field="totalCount" data-source-filters="ancestors=PROCESSED/SUCCESSFULLY_INGESTED"></span></div>
		</div>
		<div class="col_4 stat_col_card">
			<h4>Neuspješna unošenja</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.TransferredResource" data-view="text" data-view-field="totalCount" data-source-filters="ancestors=PROCESSED/UNSUCCESSFULLY_INGESTED"></span></div>
		</div>
	</div>

	<h2>Procesi očuvanja</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj procesa očuvanja</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.metadata.IndexedPreservationEvent" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Agenti očuvanja prema vrsti (prvih 5)</h4>
			<canvas id="preservation-agents-type" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.metadata.IndexedPreservationEvent" data-source-facets="eventType" data-view="chart" data-view-field="facetResults" data-view-type="pie" data-view-limit="5"></canvas><span class="statistic toolbarLink" data-ref="preservation-agents-type" data-view="download" data-view-filename="preservation-agents-type.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>

	</div>
	<div class="row full_width">
		<div class="col_12 chart_col_card">
			<h4>Događaji očuvanja prema agentu (prvih 5)</h4>
			<canvas id="preservation-event-agents" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.ip.metadata.IndexedPreservationEvent" data-source-facets="linkingAgentIdentifier" data-view="chart" data-view-field="facetResults" data-view-type="horizontalBar" data-label-function="agentLabel" data-view-limit="5"></canvas><script type="text/javascript">
				function agentLabel(label) {
					var agent = JSON.parse(label);
					var valueArray = agent.value.split('@');
					var updatedValue = valueArray[0].substring(valueArray[0]
							.lastIndexOf(".") + 1);
					updatedValue = updatedValue.substring(updatedValue
							.lastIndexOf(":") + 1);

					if (valueArray.length != 1) {
						updatedValue += "@" + valueArray[1];
					}

					return updatedValue;
				}
			</script><span class="statistic toolbarLink" data-ref="preservation-event-agents" data-view="download" data-view-filename="preservation-event-agents.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<h2>Rizici</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj rizika</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.IndexedRisk" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Rizici prema intenzitetu smanjenja</h4>
			<canvas id="risk-severity" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.IndexedRisk" data-source-facets="currentSeverityLevel" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="risk-severity" data-view="download" data-view-filename="risk-severity.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<h2>Učestalosti rizika</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj učestalosti rizika</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.RiskIncidence" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Učestalost rizika prema intenzitetu</h4>
			<canvas id="risk-incidence-severity" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.RiskIncidence" data-source-facets="severity" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="risk-incidence-severity" data-view="download" data-view-filename="risk-incidence-severity.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
		<div class="col_4 chart_col_card">
			<h4>Učestalost rizika prema statusu</h4>
			<canvas id="risk-incidence-status" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.risks.RiskIncidence" data-source-facets="status" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="risk-incidence-status" data-view="download" data-view-filename="risk-incidence-status.csv">
				<i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>

	<h2>Obavijest</h2>

	<div class="row full_width">
		<div class="col_4 stat_col_card">
			<h4>Broj obavijesti</h4>
			<div class="textfill"><span class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.notifications.Notification" data-view="text" data-view-field="totalCount"></span></div>
		</div>
		<div class="col_8 chart_col_card">
			<h4>Primljene obavijesti</h4>
			<canvas id="notification-acknowledge" class="statistic" data-source="index" data-source-class="org.roda.core.data.v2.notifications.Notification" data-source-facets="isAcknowledged" data-view="chart" data-view-field="facetResults" data-view-type="pie"></canvas><span class="statistic toolbarLink" data-ref="notification-acknowledge" data-view="download" data-view-filename="notification-acknowledge.csv"> <i class="fa fa-download" aria-hidden="true"></i>
			</span>
		</div>
	</div>
</div>
